<!DOCTYPE html>
<html lang="en">
  <head>
    <title>1장 텍스트 마이닝 기초</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<script src="https://fastly.jsdelivr.net/npm/mermaid@9.4.0/dist/mermaid.min.js"></script>
<script>
    mermaid.initialize({
        startOnLoad: true,
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/prism.min.js" integrity="sha512-hpZ5pDCF2bRCweL5WoA0/N1elet1KYL5mx3LP555Eg/0ZguaHawxNvEjF6O3rufAChs16HVNhEc6blF/rZoowQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha512-sv0slik/5O0JIPdLBCR2A3XDg/1U3WuDEheZfI/DI5n8Yqc3h5kjrnr46FGBNiUAJF7rE4LHKwQ/SoSLRKAxEA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://cdn.jsdelivr.net/npm/lucide@0.115.0/dist/umd/lucide.min.js"></script>
<script>
    // Create callout icons
    window.addEventListener("load", () => {
        document.querySelectorAll(".callout").forEach((elem) => {
            const icon = getComputedStyle(elem).getPropertyValue('--callout-icon');
            const iconName = icon && icon.trim().replace(/^lucide-/, "");

            if (iconName) {
                const calloutTitle = elem.querySelector(".callout-title");

                if (calloutTitle) {
                    const calloutIconContainer = document.createElement("div");
                    const calloutIcon = document.createElement("i");

                    calloutIconContainer.appendChild(calloutIcon);
                    calloutIcon.setAttribute("icon-name", iconName);
                    calloutIconContainer.setAttribute("class", "callout-icon");
                    calloutTitle.insertBefore(calloutIconContainer, calloutTitle.firstChild);
                }
            }
        });

        lucide.createIcons();

        // Collapse callouts
        Array.from(document.querySelectorAll(".callout.is-collapsible")).forEach((elem) => {
            elem.querySelector('.callout-title').addEventListener("click", (event) => {
                if (elem.classList.contains("is-collapsed")) {
                    elem.classList.remove("is-collapsed");
                } else {
                    elem.classList.add("is-collapsed");
                }
            });
        });
    });
</script>


<script src="https://fastly.jsdelivr.net/npm/force-graph@1.43.0/dist/force-graph.min.js"></script>

<script defer src="https://fastly.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/cdn.min.js"></script>
<script src="https://fastly.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js" defer></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.25.0/themes/prism-okaidia.min.css" integrity="sha512-mIs9kKbaw6JZFfSuo+MovjU+Ntggfoj8RwAmJbVXQ5mkAX5LlgETQEweFPI18humSPHymTb5iikEOKWF7I8ncQ==" crossorigin="anonymous" referrerpolicy="no-referrer">
<script src="https://fastly.jsdelivr.net/npm/whatwg-fetch@3.6.2/dist/fetch.umd.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<link href="/styles/digital-garden-base.css" rel="stylesheet">
    <link href="/styles/obsidian-base.css" rel="stylesheet">
    <link href="/styles/c_theme.0ab6fb92.css" rel="stylesheet">


<link href="/styles/custom-style.css" rel="stylesheet">
<link rel="icon" href="/favicon.ico" sizes="any">
<link rel="icon" href="/favicon.svg" type="image/svg+xml">
<link rel="apple-touch-icon" href="/apple-touch-icon.png">
<link rel="manifest" href="/manifest.webmanifest">





<style></style>
    
    
  </head>
  <body class="theme-dark markdown-preview-view markdown-rendered markdown-preview-section ">
    

    
      
    
    <div x-init="isDesktop = (window.innerWidth>=1400) ? true: false;" 
            x-on:resize.window="isDesktop = (window.innerWidth>=1400) ? true : false;" 
            x-data="{isDesktop: true, showFilesMobile: false}">

        <div x-show.important="!isDesktop" style="display: none;">
            <nav class="navbar">
    <div class="navbar-inner">
        <span style="font-size: 1.5rem; margin-right: 10px;" @click="showFilesMobile=!showFilesMobile"><i  icon-name="menu"></i></span>
        
        <a href="/" style="text-decoration: none;">
            <h1 style="margin: 15px !important;">Jam Garden</h1>
        </a>
        
    </div>
    
    
        <div class="search-button align-icon" onclick="toggleSearch()">
    <span class="search-icon">
        <i icon-name="search" ></i>
    </span>
    <span class="search-text">
        <span>Search</span>
        <span style="font-size: 0.6rem; padding: 2px 2px 0 6px; text-align:center; transform: translateY(4px);" class="search-keys">
            CTRL + K
        </span>
    </span>
</div>
    
</nav>
        </div>
        
        <div x-show="showFilesMobile && !isDesktop" @click="showFilesMobile = false" style="display:none;" class="fullpage-overlay"></div>

      <nav class="filetree-sidebar"  x-show.important="isDesktop || showFilesMobile" style="display: none;">
        
         <a href="/" style="text-decoration: none;">
               <h1 style="text-align:center;">Jam Garden</h1>
         </a>
         
        
            <div style="display: flex; justify-content: center;">
                <div class="search-button align-icon" onclick="toggleSearch()">
    <span class="search-icon">
        <i icon-name="search" ></i>
    </span>
    <span class="search-text">
        <span>Search</span>
        <span style="font-size: 0.6rem; padding: 2px 2px 0 6px; text-align:center; transform: translateY(4px);" class="search-keys">
            CTRL + K
        </span>
    </span>
</div>
            </div>
        
         <div class="folder" x-data="{isOpen: true}">
    
        <div x-show="isOpen" style="display:none" class="">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">Blogging</span>
                    </div>
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/daily')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">daily</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/daily/24-02-04/">[24.02.04] 일상 </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/daily/24-02-08/">24-02-08 </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">study</span>
                    </div>
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/books')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">books</span>
                    </div>
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/books/GPT-4+ChatGPT+라마인덱스+랭체인을 활용한 인공지능 프로그래밍')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">GPT-4+ChatGPT+라마인덱스+랭체인을 활용한 인공지능 프로그래밍</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/books/GPT-4+ChatGPT+라마인덱스+랭체인을 활용한 인공지능 프로그래밍/1장/">1장 GPT-4, ChatGPT, 랭체인 개요 </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/books/GPT-4+ChatGPT+라마인덱스+랭체인을 활용한 인공지능 프로그래밍/2장/">6장 랭체인(LangChain) </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/books/파이썬 텍스트 마이닝 완벽 가이드')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">파이썬 텍스트 마이닝 완벽 가이드</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink active-note"><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/books/파이썬 텍스트 마이닝 완벽 가이드/1장/">1장 텍스트 마이닝 기초 </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/cs')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">cs</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/cs/asynchronous/">asynchronous (비동기) </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/cs/process/">process (프로세스) </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/cs/synchronous/">synchronous (동기) </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/cs/thread/">thread (스레드) </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/language')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">language</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/language/Javascript에 대해서/">Javascript에 대해서 </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div class="folder inner-folder"  x-data="{isOpen: $persist(false).as('Blogging/study/web')}" @click.stop="isOpen=!isOpen">
                    <div class="foldername-wrapper align-icon">
                    <i x-show="isOpen" style="display: none;"  icon-name="chevron-down"></i>
                    <i x-show="!isOpen"  icon-name="chevron-right"></i>
                    <span class="foldername">web</span>
                    </div>
                    
                        
    
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/Cache/">Cache </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/DNS/">DNS </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/Domain/">Domain </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/HSTS/">HSTS </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/HTTP/">HTTP </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/HTTPS/">HTTPS </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/IP/">IP </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/ISP/">ISP </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/reflow/">reflow </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/repaint/">repaint </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/request/">request </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/response/">response </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/Router/">Router </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/TCP/">TCP </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/URL/">URL </a>
                </div>
            
        </div>
        
    
                    
                        
    
        <div x-show="isOpen" style="display:none" class="filelist">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/Blogging/study/web/What is done when you enter a URL in your browser/">브라우저에 URL를 넣었을 때 어찌 되는가? </a>
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
                    
                </div>
            
        </div>
        
    
    
        <div x-show="isOpen" style="display:none" class="">
            
                <div @click.stop class="notelink "><i icon-name="sticky-note" aria-hidden="true"></i><a data-note-icon="" style="text-decoration: none;" class="filename" href="/">Welcome </a>
                </div>
            
        </div>
        
    </div>
      </nav>
    </div>

    

    
      <div class="search-container" id="globalsearch" onclick="toggleSearch()">
    <div class="search-box">
        <input type="search" id="term" placeholder="Start typing...">
        <div id="search-results"></div>
        <footer class="search-box-footer">
            <div class="navigation-hint">
                <span>Enter to select</span>
            </div>

            <div class="navigation-hint align-icon">
                <i  icon-name="arrow-up" aria-hidden="true"></i>
                <i  icon-name="arrow-down" aria-hidden="true"></i>
                <span>to navigate</span>
            </div>

            <div class="navigation-hint">
                <span>ESC to close</span>
            </div>

        </footer>
    </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', init, false);
    document.addEventListener('DOMContentLoaded', setCorrectShortcut, false);

    window.toggleSearch = function () {
        if (document.getElementById('globalsearch').classList.contains('active')) {
            document
                .getElementById('globalsearch')
                .classList
                .remove('active');
        } else {
            document
                .getElementById('globalsearch')
                .classList
                .add('active');
            document
                .getElementById('term')
                .focus();
        }
    }

    window.toggleTagSearch = function (evt) {
        console.log(evt.textContent);
        const term = evt.textContent;
        if (term) {
            window
                .document
                .getElementById('term')
                .value = term.trim();
            window.toggleSearch();
            window.search();
        }
    }

    const loadingSvg = `
    <svg width="100" height="100" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" stroke="#fff">
      <g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2">
          <circle cx="22" cy="22" r="6" stroke-opacity="0">
              <animate attributeName="r"
                   begin="1.5s" dur="3s"
                   values="6;22"
                   calcMode="linear"
                   repeatCount="indefinite" />
              <animate attributeName="stroke-opacity"
                   begin="1.5s" dur="3s"
                   values="1;0" calcMode="linear"
                   repeatCount="indefinite" />
              <animate attributeName="stroke-width"
                   begin="1.5s" dur="3s"
                   values="2;0" calcMode="linear"
                   repeatCount="indefinite" />
          </circle>
          <circle cx="22" cy="22" r="6" stroke-opacity="0">
              <animate attributeName="r"
                   begin="3s" dur="3s"
                   values="6;22"
                   calcMode="linear"
                   repeatCount="indefinite" />
              <animate attributeName="stroke-opacity"
                   begin="3s" dur="3s"
                   values="1;0" calcMode="linear"
                   repeatCount="indefinite" />
              <animate attributeName="stroke-width"
                   begin="3s" dur="3s"
                   values="2;0" calcMode="linear"
                   repeatCount="indefinite" />
          </circle>
          <circle cx="22" cy="22" r="8">
              <animate attributeName="r"
                   begin="0s" dur="1.5s"
                   values="6;1;2;3;4;5;6"
                   calcMode="linear"
                   repeatCount="indefinite" />
          </circle>
      </g>
  </svg>`;

    function debounce(func, wait, immediate) {
        var timeout;
        return function () {
            var context = this,
                args = arguments;
            var later = function () {
                timeout = null;
                if (!immediate) 
                    func.apply(context, args);
                };
            var callNow = immediate && !timeout;
            clearTimeout(timeout);
            timeout = setTimeout(later, wait);
            if (callNow) 
                func.apply(context, args);
            };
    };

    function setCorrectShortcut() {
        if (navigator.platform.toUpperCase().indexOf('MAC') >= 0) {
            document
                .querySelectorAll(".search-keys")
                .forEach(x => x.innerHTML = "⌘ + K");
        }
    }

    function createIndex(posts) {
        const encoder = (str) => str
            .toLowerCase()
            .split(/([^a-z]|[^\x00-\x7F])/)
        const contentIndex = new FlexSearch.Document({
            cache: true,
            charset: "latin:extra",
            optimize: true,
            index: [
                {
                    field: "content",
                    tokenize: "reverse",
                    encode: encoder
                }, {
                    field: "title",
                    tokenize: "forward",
                    encode: encoder
                }, {
                    field: "tags",
                    tokenize: "forward",
                    encode: encoder
                }
            ]
        })
        posts.forEach((p, idx) => {
            contentIndex.add({
                id: idx, title: p.title, content: p.content, tags: p.tags //Change to removeHTML
            })
        });
        return contentIndex;
    }

    async function init() {
        //init offline search index

        const searchIndexDate = '2024-03-31T13:47:00.502Z';
        let shouldFetch = true;
        if(localStorage.getItem("searchIndex")) {
            let {date, docs}= JSON.parse(localStorage.getItem('searchIndex'));
            if(date === searchIndexDate){
                shouldFetch = false;
                let index = createIndex(docs);
                window.docs = docs
                window.index = index;
            }        
        }
        if(shouldFetch){
            let docs = await(await fetch('/searchIndex.json?v=2024-03-31T13:47:00.502Z')).json();
            let index = createIndex(docs);
            localStorage.setItem("searchIndex", JSON.stringify({date: '2024-03-31T13:47:00.502Z', docs}));
            window.docs = docs
            window.index = index;
        }

        //open searchmodal when ctrl + k is pressed, cmd + k on mac
        document.addEventListener('keydown', (e) => {
            if ((e.ctrlKey || e.metaKey) && e.key === 'k') {
                e.preventDefault();
                toggleSearch();
            }
            if (e.key === 'Escape') {
                document
                    .getElementById('globalsearch')
                    .classList
                    .remove('active');
            }

            //navigate search results with arrow keys
            if (document.getElementById('globalsearch').classList.contains('active')) {
                if (e.key === 'ArrowDown') {
                    e.preventDefault();
                    let active = document.querySelector('.searchresult.active');
                    if (active) {
                        active
                            .classList
                            .remove('active');
                        if (active.nextElementSibling) {
                            active
                                .nextElementSibling
                                .classList
                                .add('active');
                        } else {
                            document
                                .querySelector('.searchresult')
                                .classList
                                .add('active');
                        }
                    } else {
                        document
                            .querySelector('.searchresult')
                            .classList
                            .add('active');
                    }

                    let currentActive = document.querySelector('.searchresult.active');
                    if (currentActive) {
                        currentActive.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});
                    }
                }
                if (e.key === 'ArrowUp') {
                    e.preventDefault();
                    let active = document.querySelector('.searchresult.active');
                    if (active) {
                        active
                            .classList
                            .remove('active');
                        if (active.previousElementSibling) {
                            active
                                .previousElementSibling
                                .classList
                                .add('active');
                        } else {
                            document
                                .querySelectorAll('.searchresult')
                                .forEach((el) => {
                                    if (!el.nextElementSibling) {
                                        el
                                            .classList
                                            .add('active');
                                    }
                                });
                        }
                    } else {
                        document
                            .querySelectorAll('.searchresult')
                            .forEach((el) => {
                                if (el.nextElementSibling) {
                                    el
                                        .classList
                                        .add('active');
                                }
                            });
                    }

                    let currentActive = document.querySelector('.searchresult.active');
                    if (currentActive) {
                        currentActive.scrollIntoView({behavior: 'smooth', block: 'nearest', inline: 'start'});
                    }

                }
                if (e.key === 'Enter') {
                    e.preventDefault();
                    let active = document.querySelector('.searchresult.active');
                    if (active) {
                        window.location.href = active
                            .querySelector("a")
                            .href;
                    }
                }
            }
        });

        const debouncedSearch = debounce(search, 200, false);
        field = document.querySelector('#term');
        field.addEventListener('keydown', (e) => {
            if (e.key !== 'ArrowDown' && e.key !== 'ArrowUp') {
                debouncedSearch();
            }
        });
        resultsDiv = document.querySelector('#search-results');

        const params = new URL(location.href).searchParams;
        if (params.get('q')) {
            field.setAttribute('value', params.get('q'));
            toggleSearch();
            search();
        }
    }
    window.lastSearch = '';
    async function search() {
        let search = field
            .value
            .trim();
        if (!search) 
            return;
        if (search == lastSearch) 
            return;
        console.log(`search for ${search}`);
        window.lastSearch = search;

        resultsDiv.innerHTML = loadingSvg;
        //let searchRequest = await fetch(`/api/search?term=${encodeURIComponent(search)}`);
        //let results = await searchRequest.json();
        let results = offlineSearch(search);
        let resultsHTML = '';
        if (!results.length) {
            let resultParagraph = document.createElement("p");
            resultParagraph.innerText = `No results for "${search}"`;
            resultsDiv.innerHTML = '';
            resultsDiv.appendChild(resultParagraph);
            return;
        }
        resultsHTML += '<div style="max-width:100%;">';
        // we need to add title, url from ref
        results.forEach(r => {
            if(r.tags && r.tags.length > 0){
                resultsHTML += `<div class="searchresult">
                    <a class="search-link" href="${r.url}">${r.title}</a>
                    <div onclick="window.location='${r.url}'">
                        <div class="header-meta">
                            <div class="header-tags">
                                ${r.tags.map(tag=>'<a class="tag" href="JavaScript:Void(0);">#'+tag+'</a>').join("")}
                            </div>
                        </div>
                        ${r.content}
                    </div>
                </div>`;
            } else {
                resultsHTML += `<div class="searchresult">
                    <a class="search-link" href="${r.url}">${r.title}</a>
                    <div onclick="window.location='${r.url}'">
                        ${r.content}
                    </div>
                </div>`;
            }
        });
        resultsHTML += '</div>';
        resultsDiv.innerHTML = resultsHTML;
    }

    function truncate(str, size) {
        //first, remove HTML
        str = str.replaceAll(/<[^>]*>/g, '');
        if (str.length < size) 
            return str;
        return str.substring(0, size - 3) + '...';
    }

    function offlineSearch(searchQuery) {
        let data = window.docs;

        let isTagSearch = searchQuery[0] === "#" && searchQuery.length > 1;

        let searchResults = isTagSearch
            ? index.search(searchQuery.substring(1), [
                {
                    field: "tags"
                }
            ])
            : index.search(searchQuery, [
                {
                    field: "title",
                    limit: 5
                }, {
                    field: "content",
                    weight: 10
                }
            ]);

        const getByField = (field) => {
            const results = searchResults.filter((x) => x.field === field)
            if (results.length === 0) {
                return []
            } else {
                return [...results[0].result]
            }
        }
        const allIds = new Set([
            ...getByField("title"),
            ...getByField("content"),
            ...getByField("tags")
        ])
        const dataIds = [...allIds];
        const finalResults = dataIds.map((id) => {
            let result = data[id];
            result.content = truncate(result.content, 400);
            result.tags = result
                .tags
                .filter((x) => x != "gardenEntry" && x != "note"); //Note is automatically added by 11ty. GardenEntry is used internally to mark the home page

            return result;
        })
        return finalResults;

    }
</script>
    

    <main class="content cm-s-obsidian ">
      <header>
        
          <h1 data-note-icon="">1장 텍스트 마이닝 기초</h1>
        
        <div class="header-meta">
          
            <div class="header-tags">
              
                
              
            </div>
          <div class="timestamps"><div><i icon-name="calendar-plus"></i> <span class="human-date" data-date="2024-03-31T22:29:44.356+09:00"></span></div><div><i icon-name="calendar-clock"></i> <span class="human-date" data-date="2024-03-31T22:46:07.477+09:00"></span></div></div></div>
      
      
      </header>
      
      
      <h1 id="1" tabindex="-1">1장 텍스트 마이닝 기초</h1>
<h2 id="1-1" tabindex="-1">1. 텍스트 마이닝 기초</h2>
<h3 id="1-1-1" tabindex="-1">1-1. 텍스트 마이닝의 정의</h3>
<ul>
<li>무엇인가?
<ul>
<li>텍스트에서 고품질 정보를 추출하는 과정</li>
<li>이렇게 추출한 대규모 데이터에서 패턴을 찾는 것.</li>
</ul>
</li>
<li>패턴이란?
<ul>
<li>예시) 어떤 물건을 선택한 고객이 다른 물건을 함께 구매할 확률을 알아내서 그에 따른 쿠폰이나 상품을 보여주는 것</li>
</ul>
</li>
<li>어떻게?
<ul>
<li>통계적 패턴 학습
<ul>
<li>머신러닝이 이에 해당</li>
</ul>
</li>
<li>다만 머신러닝은 정형화된 데이터가 필요하기에 비정형화된 데이터를 정형화 하는 작업이 필요</li>
</ul>
</li>
<li>정리
<ul>
<li>자연어 처리 기법을 이용해 텍스트를 정형화된 데이터로 변환하고, 머신러닝 기법을 적용해 우리가 관심이 있는 어떤 사건을 예측하고자 하는 방법론
<ul>
<li>정형화된 데이터의 형태는 일정 길이의 벡터
<ul>
<li>이렇게 일정 길이의 벡터로 변환 하는 것을 **<code>임베딩</code>**이라고 함</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-2" tabindex="-1">1-2. 텍스트 마이닝 트렌드 변화</h3>
<ul>
<li>여기서는 어떤 것이 있는지만 얘기. 자세한 것은 다른 장에서 다룰 예정</li>
<li><strong>카운트 기반 문서 표현</strong>
<ul>
<li>딥러닝 전 얘기이며, 문장에 있는 단어들의 개수를 세고, 주로 사용된 단어들을 이용해 그 문장의 내용을 파악하는것</li>
<li>단어들의 빈도를 이용한 하나의 벡터로 단번에 문서 전체를 표현</li>
<li>벡터화
<ul>
<li>단어 : [A, B, C, D, E]</li>
<li>횟수 : [3, 7, 4, 2, 5]</li>
</ul>
</li>
<li>단점으로는 사용된 단어가 많으면 벡터의 크기가 많이 커진다.</li>
</ul>
</li>
<li><strong>시퀀스 기반의 문서 표현</strong>
<ul>
<li>카운트 기반 문서 표현의 문제점을 해결</li>
<li>사람이 글을 읽고 이해하는 것과 유사한 방법으로 텍스트의 문맥을 이해하고자 하는 방식</li>
<li>각 단어를 먼저 벡터화 하고, 벡터의 연속된 나열 혹은 시퀀스로 문서 표현</li>
<li>원 핫 인코딩 : 단어를 일정 규칙에 따라 정렬하고 단어의 수만큼의 벡터를 만들고 단어 자신의 위치만 1로 표시 하는것.</li>
<li>예시
<ul>
<li>단어 : [A, B, C, D, E]</li>
<li>A : [1, 0, 0, 0, 0]</li>
<li>B : [0, 1, 0, 0, 0]</li>
<li>AB: [[1, 0, 0, 0, 0],[0, 1, 0, 0, 0]]</li>
</ul>
</li>
<li>단점
<ul>
<li>단어를 벡터로 변환 했을때 벡터가 지나치게 커진다.</li>
<li>문서 또는 문장이 가변의 길이인 단어로 되어 있기에 벡터의 시퀀스 길이가 제각각임
<ul>
<li>머신러닝이나 딥러닝은 가변 길이의 입력을 보통은 허용하지 않으며, 일정 길이를 기준으로 짧은것은 null이나 0으로 채우고 길면 짤라서 사용한다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>용어 정리
<ul>
<li>텍스트, 문서, 문장
<ul>
<li>텍스트, 문서 : 하나의 일관된 목적 혹은 주제를 가지고 쓰여진 글</li>
<li>문장 : 생각이나 감정을 말로 표현할때 완결된 내용을 나타내는 최소 단위</li>
</ul>
</li>
<li>말뭉치 : 언어 연구를 위해 컴퓨터가 텍스트를 가공, 처리, 분석 할 수 있는 형태로 모아놓은 자료의 집합 or 자연언어 연구를 위해 특정한 목적을 가지고 언어의 표본을 추출한 집단</li>
</ul>
</li>
</ul>
<h3 id="1-3" tabindex="-1">1-3. 텍스트 마이닝에 필요한 지식과 도구</h3>
<ul>
<li>자연어 처리 기법
<ul>
<li>컴퓨터를 이용해 사람의 자연어를 분석하고 처리하는 기술</li>
<li>위키에서는 아래와 같이 처리 기법을 얘기함
<ul>
<li>형태소 분석</li>
<li>품사 부착</li>
<li>구절 단위 분석</li>
<li>구문 분석</li>
</ul>
</li>
<li>이 책에서는 텍스트 전처리를 위한 기법을 아래와 같이 얘기함
<ul>
<li>토큰화 (tokenize)</li>
<li>어간 추출 (stemming)</li>
<li>표제어 추출(lemmatize)</li>
<li>정규화 (Normalization)</li>
<li>품사 태킹 (POS-tagging)</li>
</ul>
</li>
<li>라이브러리
<ul>
<li>NLTK (Natural Langauge Tool-kit)</li>
<li>KoNLPy</li>
</ul>
</li>
</ul>
</li>
<li>통계학과 선형대수
<ul>
<li>텍스트로부터 고품질의 정보를 추출하는데 다양한 통계적 분석 방법 쓰임</li>
<li>회귀분석, SVM과 같은 머신러닝 방법론을 이해하기 위해서는 통계학이 필수</li>
<li>대용량의 데이터를 다루려면 행렬도 잘 알아야함.</li>
<li>라이브러리
<ul>
<li>Numpy</li>
<li>Pandas</li>
</ul>
</li>
</ul>
</li>
<li>시각화 기법
<ul>
<li>전달하고자 하는 내용을 한눈에 쉽게 이해시키려고 사용</li>
<li>텍스트 마이닝에서는 막대그래프와 워드클라우드와 같은 기법을 많이 사용</li>
<li>라이브러리
<ul>
<li>matplotlib</li>
<li>seaborn</li>
</ul>
</li>
</ul>
</li>
<li>머신러닝
<ul>
<li>공통적인 알고리즘을 데이터에 적용해 주어진 데이터에 적합한 문제해결 방안을 생성하는 방식</li>
<li>기계학습
<ul>
<li>지도학습
<ul>
<li>회귀</li>
<li>분류</li>
</ul>
</li>
<li>비지도 학습
<ul>
<li>클러스터링</li>
<li>차원축소</li>
</ul>
</li>
<li>강화학습</li>
</ul>
</li>
<li>라이브러리
<ul>
<li>사이킷런</li>
</ul>
</li>
</ul>
</li>
<li>딥러닝
<ul>
<li>머신러닝의 한 분류에 속하는 인공신경망에서 은닉층을 깊게 쌓은 신경망 구조를 활용해 학습하는 알고리즘</li>
<li>이미지 인식, 자연어 처리, 음성 처리 등에서 뛰어난 결과를 보이고 있음</li>
<li>매우 어려움</li>
<li>초기에는 RNN, LSTM, CNN등 단순하고 쉬운 방법론이 있었지만</li>
<li>트랜스포머(Transformer)가 등장하면서 BERT, GPT와 같은 복잡한 기술이 등장</li>
<li>누군가가 미리 학습된 모형을 가져와서 사용하기에 학습 부담이 많이 줄어듬
<ul>
<li>전체 학습을 하지 않아도 되어서 시간도 절약됨</li>
<li>기본 학습 모델에 나의 데이터를 이용해 미세조정(Fint-tunning)을 수행하면 자원 소모가 줄어든다.</li>
</ul>
</li>
<li>라이브러리
<ul>
<li>Keras</li>
<li>Pytorch</li>
<li>huggingface에서 제공하는 SDK
<ul>
<li>이건 책에 없지만 더 간단하게 허깅페이스에 등록된 모델을 쉽게 가져와 쓰기 좋아서 쓸 예정</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-4" tabindex="-1">1-4. 텍스트 마이닝의 주요 적용 분야</h3>
<ul>
<li>문서 분류</li>
<li>문서 생성</li>
<li>문서요약</li>
<li>질의응답</li>
<li>기계번역</li>
<li>토픽 모델링</li>
</ul>
<h3 id="1-5" tabindex="-1">1-5. 이 책의 실습 환경과 사용 소프트웨어</h3>
<ul>
<li>win 10</li>
<li>python 3.8</li>
<li>NLTK</li>
<li>scikit-learn</li>
<li>Numpy</li>
<li>Pandas</li>
<li>Anaconda</li>
<li>KoNLPy</li>
<li>TextBlob</li>
<li>AFINN</li>
<li>VADER</li>
<li>Gensim</li>
<li>Tensorflow</li>
<li>Pytorch</li>
</ul>
<h2 id="2" tabindex="-1">2. 텍스트 전처리</h2>
<h3 id="2-1" tabindex="-1">2-1. 텍스트 전처리 방식</h3>
<ul>
<li>여기서는 대부분의 자연어 처리에서 공통적으로 수행되는 전처리에 대해서 설명한다.</li>
<li>주어진 텍스트에서 노이즈와 같이 불필요한 부분을 제거하고, 문장을 표준 단어들로 분리한 후에 각 단어의 품사를 파악하는 것</li>
<li>왜 필요한가?
<ul>
<li>우리는 일반적으로 하나의 문장을 이해할 때는 사용된 단어들의 순차수열로 이해
<ul>
<li>각각의 단어를 이해하고 그 단어들의 순서에 따라 의미를 이해</li>
</ul>
</li>
<li>컴퓨터에게 이해 시키려면 문장을 단어 단위로 나눈 후에 이 단어들의 리스트 형태로 변환 해주어야 한다.
<ul>
<li>이때 쓸모없다고 생각되는 문자를 없엔다.</li>
</ul>
</li>
<li>예시 (별 헤는 밤)
<ul>
<li>계절이 지나가는 하늘에는 가을로 가득 차 있습니다.</li>
<li>[’계절이’, ‘지나가는’, ‘하늘에는’, ‘가을로’, ‘가득’, ‘차’, ‘있습니다’]</li>
<li>마지막 ‘있습니다’는 ‘있다’에서 파생 단어여서 ‘있다’로 변환해서 쓸때 효율적일수 있다.</li>
</ul>
</li>
</ul>
</li>
<li>전처리 단계
<ul>
<li>정제 : 분석에 불필요한 노이즈를 제러
<ul>
<li>사전에 있는 유의미한 단어라 하더라도 분석에 별 도움이 안되는 단어를 제거 (불용어 제거 라고 한다.)
<ul>
<li>불용어 리스트 : <a href="https://www.ranks.nl/stopwords/korean" target="_blank" class="external-link">https://www.ranks.nl/stopwords/korean</a></li>
</ul>
</li>
</ul>
</li>
<li>토큰화
<ul>
<li>주어진 텍스트를 원하는 단위(토큰)로 나누는 작업</li>
</ul>
</li>
<li>정규화
<ul>
<li>같은 의미를 가진 동일한 단어임에도 불구하고 다른 형태로 쓰여진 단어들을 통일시켜서 표준 단어로 만드는 작업
<ul>
<li>예시 goes는 3인칭에 쓰이는 동사이지만 go와 동일하게 판단하고 go로 변환 시킨다.</li>
</ul>
</li>
</ul>
</li>
<li>품사태깅
<ul>
<li>문법적인 기능에 따라 분류하는 것</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="2-2" tabindex="-1">2-2. 토큰화</h3>
<ul>
<li>NLTK는 교육용으로 개발된 자연어 처리 및 문서 분셕용 파이썬 패키지</li>
<li>자연어 처리를 지원하는 다양한 라이브러리와 말뭉치, 예제를 제공</li>
</ul>
<pre><code class="language-python"># 필요한 nltk 라이브러리를 다운로드
import nltk
nltk.download('punkt')
nltk.download('webtext')
nltk.download('wordnet')
nltk.download('stopwords')
nltk.download('averaged_perceptron_tagger')
</code></pre>
<ul>
<li>
<p>문장 토큰화</p>
<ul>
<li>먼저 문장 토큰화를 해보자.</li>
<li>nltk의 sent_tokenize를 사용한다.</li>
<li>각 문장을 문자열로 갖는 리스트를 출력한다.</li>
</ul>
<pre><code class="language-python">para = &quot;Hello everyone. It's good to see you. Let's start our text mining class!&quot;

from nltk.tokenize import sent_tokenize

# 주어진 텍스트를 문장 단위로 토큰화. 주로 . ! ? 등을 이용 
print(sent_tokenize(para))

# ['Hello everyone.', &quot;It's good to see you.&quot;, &quot;Let's start our text mining class!&quot;]

</code></pre>
<ul>
<li>만약에 다른 언어에 대해 문장 토큰화를 하려면 아래와 같이 사전 학습된 모델을 지정후 실행해야한다.</li>
<li>안타깝게도 nltk에는 한글에 대해 사전학습된 모델이 없다. 다만 문장은 마침표나 ?, !같은 것을 기준으로 학습되어 있어서 영어 모델로도 어느정도 가능하다.</li>
</ul>
<pre><code class="language-python">para_kor = &quot;안녕하세요, 여러분. 만나서 반갑습니다. 이제 텍스트마이닝 클래스를 시작해봅시다!&quot;

print(sent_tokenize(para_kor))
# ['안녕하세요, 여러분.', '만나서 반갑습니다.', '이제 텍스트마이닝 클래스를 시작해봅시다!']
</code></pre>
</li>
<li>
<p>단어 토큰화</p>
<ul>
<li>NLTK에서는 word_tokenize로 단어 토큰화를 할 수 있다.</li>
</ul>
<pre><code class="language-python">from nltk.tokenize import word_tokenize

# 주어진 text를 word 단위로 tokenize함
print(word_tokenize(para))

# ['Hello', 'everyone', '.', 'It', &quot;'s&quot;, 'good', 'to', 'see', 'you', '.', 'Let', &quot;'s&quot;, 'start', 'our', 'text', 'mining', 'class', '!']
</code></pre>
<ul>
<li>아래는 WordPunctTokenizer를 사용한 방법이다.</li>
</ul>
<pre><code class="language-python">from nltk.tokenize import WordPunctTokenizer

print(WordPunctTokenizer().tokenize(para))
# ['Hello', 'everyone', '.', 'It', &quot;'&quot;, 's', 'good', 'to', 'see', 'you', '.', 'Let', &quot;'&quot;, 's', 'start', 'our', 'text', 'mining', 'class', '!']
</code></pre>
<ul>
<li>위 2개 차이점은 It 다음에 ‘s로 할 것이냐 ‘ , s로 나눌것이냐 차이이고 목적에 따라서 토크나이저를 잘 나눠 써야 한다.</li>
<li>한글은 NLTK에서 단어로는 잘 안되며, 대신에 KoNLPy를 이용해서 한글 전처리를 한다.</li>
</ul>
</li>
<li>
<p>정규표현식을 이용한 토큰화</p>
<ul>
<li>라이브러리는 편하지만 세밀하기 토큰화하기 어렵기에 정규표현식을 이용해서 다양한 조건에 따라 토큰화 할수 있다.</li>
<li>정규식을 익혀야 하는 문제가 있지만 요즘 chatGPT가 잘 만들어주니 잘 가져다 쓰자</li>
<li>여기서는 정규식 예제라서 설명은 건너뛴다.</li>
</ul>
</li>
<li>
<p>노이즈와 불용어 제거</p>
<ul>
<li>특수문자와 같은 불필요한 문자들 혹은 노이즈가 삭제를 시킨다. (요즘 특수문자도 해석을 위해 삭제 안하는 경우도 있긴 하다.)</li>
<li>토큰화 과정과 별도로 정규표현식을 이용한 치환을 통해 원하는 패턴의 노이즈를 제거할 수 있다.</li>
<li>불용어는 리스트를 보고 지우는 경우가 있다.</li>
</ul>
<pre><code class="language-python">from nltk.corpus import stopwords 
# 일반적으로 분석대상이 아닌 단어들
english_stops = set(stopwords.words('english')) 
# 반복이 되지 않도록 set으로 변환
text1 = &quot;Sorry, I couldn't go to movie yesterday.&quot;
tokenizer = RegexpTokenizer(&quot;[\\\\w']+&quot;)
tokens = tokenizer.tokenize(text1.lower()) 
# word_tokenize로 토큰화
# stopwords를 제외한 단어들만으로 list를 생성
result = [word for word in tokens if word not in english_stops]
print(result)
# ['sorry', 'go', 'movie', 'yesterday']

# can't를 추가하려면?
tokenizer = RegexpTokenizer(&quot;[\\\\w]+&quot;) 
print(tokenizer.tokenize(&quot;Sorry, I can't go there.&quot;))
#  ['Sorry', 'I', 'can', 't', 'go', 'there']

# 모두 소문자로 바꾸고 '를 포함해 세글자 이상의 단어들만 골라내려면?
text1 = &quot;Sorry, I can't go there.&quot;
tokenizer = RegexpTokenizer(&quot;[\\w']{3,}&quot;)
print(tokenizer.tokenize(text1.lower()))
# ['sorry', &quot;can't&quot;, 'there']
</code></pre>
</li>
<li>
<p>노이즈와 불용어 제거</p>
<ul>
<li>앞에서 정규표현식을 이용한 토큰화 과정을 보면 특수문자와 같은 불필요한 문자들 혹은 노이즈를 삭제한다.</li>
<li>영어 같은 경우 보통 길이가 3미만인 단어들은 삭제를 한다.</li>
<li>또는 stopworkd라는 라이브러리를 사용해서 불용어 사전을 참조해 삭제한다. (직접 만들수도 있고 가져와서 쓰기도 한다.)</li>
</ul>
<pre><code class="language-python">from nltk.corpus import stopwords
# 일반적으로 분석대상이 아닌 단어들
english_stops = set(stopwords.words('english'))
# 반복이 되지 않도록 set으로 변환
text1 = &quot;Sorry, I couldn't go to movie yesterday.&quot;
tokenizer = RegexpTokenizer(&quot;[\\\\w']+&quot;)
tokens = tokenizer.tokenize(text1.lower())
# word_tokenize로 토큰화
# stopwords를 제외한 단어들만으로 list를 생성
result = [word for word in tokens if word not in english_stops]
print(result)
# ['sorry', 'go', 'movie', 'yesterday']
</code></pre>
<ul>
<li>불용어 사전에 무엇이 있는지 알고 싶으면 아래와 같이 볼수 있다.</li>
</ul>
<pre><code class="language-python">print(english_stops)
# {'his', 'any', 'was', 'it', 'being', &quot;wasn't&quot;, 'its', 'down', 'has', 'again', 'itself', 'weren', 'did', &quot;you'll&quot;, 'into', 'than', 'wouldn', 'these', 'he', 'o', 'so', &quot;needn't&quot;, 'my', 'y', 'some', 'below', 'how', 'ourselves', 'hadn', 'too', 'which', 'all', 'me', &quot;mustn't&quot;, 'the', 'out', 'your', 'on', 'don', 'her', 'does', &quot;aren't&quot;, 'himself', 'from', 'further', 'here', 'mightn', &quot;it's&quot;, &quot;shouldn't&quot;, 'you', 'herself', 'ma', &quot;you're&quot;, 'have', 'because', 'myself', &quot;hasn't&quot;, 'there', 'him', 'against', 'them', 'can', 'as', 'those', 'isn', 'won', 'are', 'who', 'by', 've', 're', 'or', 'themselves', 'm', 'had', 'once', &quot;she's&quot;, 'couldn', 'she', 'am', 'during', 'off', 'that', 'our', 'under', 'needn', 'i', 'then', &quot;wouldn't&quot;, 'do', 'very', 'each', 'just', 'they', 'wasn', 'through', &quot;that'll&quot;, 'ain', 'whom', &quot;weren't&quot;, 'yourselves', 'didn', 'between', &quot;shan't&quot;, &quot;hadn't&quot;, 'before', 'but', &quot;doesn't&quot;, &quot;won't&quot;, 'shouldn', 's', 'been', 'if', 'hers', 'most', 'when', 'should', 'mustn', &quot;you'd&quot;, 'not', 'this', 'theirs', 'own', 'until', 'will', 'what', 'more', 'hasn', 'doesn', 'a', 'now', 'an', 'where', 'for', 'their', 'yours', 't', 'same', &quot;couldn't&quot;, 'above', &quot;isn't&quot;, 'll', 'nor', 'were', &quot;didn't&quot;, 'after', 'and', &quot;don't&quot;, 'other', &quot;mightn't&quot;, 'about', &quot;should've&quot;, 'of', 'while', 'aren', 'doing', 'few', 'in', 'both', 'with', 'over', 'haven', 'to', &quot;haven't&quot;, 'such', 'up', 'is', 'why', 'no', 'only', 'at', 'having', 'shan', 'be', 'ours', &quot;you've&quot;, 'yourself', 'we', 'd'}
</code></pre>
</li>
</ul>
<h3 id="2-3" tabindex="-1">2-3. 정규화</h3>
<ul>
<li>
<p>이전에 얘기했다시피 goes와 같은 3인칭 동사이지만 go와 같은 취급을 위해 변환을 하는 작업</p>
</li>
<li>
<p>어간 추출</p>
<ul>
<li>
<p>어형이 변형된 단어로부터 접사등을 제거하고 그 단어의 어간을 분리해 내는 작업</p>
</li>
<li>
<p>어형 : 단어의 형태를 의미</p>
</li>
<li>
<p>어간 : 어형변화에서 변화하지 않는 부분 or 용언의 바뀌지 않는 부분</p>
</li>
<li>
<p>용언 : 문장 안에서 서술하는 구실을 하는 동사와 형용사</p>
</li>
<li>
<p>예시</p>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%202.36.48.png" alt="스크린샷 2024-03-24 오후 2.36.48.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/X6uU839Xlk-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/X6uU839Xlk-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/X6uU839Xlk-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/X6uU839Xlk-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%202.36.48.png"
      alt="스크린샷 2024-03-24 오후 2.36.48.png"
      width=""
      ></picture></p>
</li>
<li>
<p>영어와 우리말은 원리와 구조가 달라서 어간 추출이 다르다.</p>
<ul>
<li>
<p>영어의 경우 명사가 복수형으로 기술된 것을 단수형으로 바꾸는 작업도 어간 추출에 포함</p>
</li>
<li>
<p>포터 스테머(Porter Stemmer)</p>
<ul>
<li>마틴 포터가 작성한 스테밍 알고리즘</li>
<li>단어가 변형되는 규칙을 이용해 원형을 찾는거라서 사전에 있는 단어로 변환 되는것은 아니다.</li>
</ul>
<pre><code class="language-python">from nltk.stem import PorterStemmer
stemmer = PorterStemmer()
print(stemmer.stem('cooking'), stemmer.stem('cookery'),stemmer.stem('cookbooks'))
# cook cookeri cookbook
</code></pre>
</li>
<li>
<p>랭카스트 스테머(Lancaster Stemmer)</p>
<pre><code class="language-python">from nltk.stem import LancasterStemmer
stemmer = LancasterStemmer()
print(stemmer.stem('cooking'), stemmer.stem('cookery'),stemmer.stem('cookbooks'))
# cook cookery cookbook
</code></pre>
<ul>
<li>두 알고리즘 차이는 cookery에서 볼수 있다.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>표제어 추출</p>
<ul>
<li>주어진 단어를 기본형으로 변환</li>
<li>의미적 관점에서 단어의 기본형을 찾는 것</li>
</ul>
<pre><code class="language-python">from nltk.stem import WordNetLemmatizer
lemmatizer = WordNetLemmatizer()
print(lemmatizer.lemmatize('cooking'))
print(lemmatizer.lemmatize('cooking', pos='v')) # 품사를 지정
print(lemmatizer.lemmatize('cookery'))
print(lemmatizer.lemmatize('cookbooks'))
# cooking
# cook
# cookery
# cookbook
</code></pre>
<ul>
<li>cooking에 대한 기본형이 동일한데 사전에 요리라는 뜻으로 cooking이라는 명사가 존재하기 때문이고 pos에 동사라고 지정하면 cook이라고 반환한다.</li>
</ul>
</li>
</ul>
<h3 id="2-4" tabindex="-1">2-4. 품사 태깅</h3>
<ul>
<li>
<p>토큰화와 정규화 과정을 거쳐서 나온 각 결과를 보통은 형태소라고 한다.</p>
</li>
<li>
<p>형태소는 의미를 가진 가장 작은 말의 단위</p>
<ul>
<li>예시 ) 책가방 ⇒ 책 + 가방 ≠&gt;책 + 가 + 방</li>
</ul>
</li>
<li>
<p>품사의 이해</p>
<ul>
<li>주어진 텍스트를 분리할때 낱말까지 하는것이 좋은지 아니면 형태소까지 하는 것이 좋은지는 분석하고자 하는 내용과 성능에 달려 있다.</li>
<li>아래는 우리말의 주요 품사와 설명이다.</li>
</ul>
</li>
</ul>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>품사</th>
<th>설명</th>
</tr>
</thead>
<tbody>
<tr>
<td>명사</td>
<td>이름을 나타내는 낱말</td>
</tr>
<tr>
<td>대명사</td>
<td>이름을 대신해 가리키는 낱말</td>
</tr>
<tr>
<td>수사</td>
<td>수량이나 순서를 가리키는 낱말</td>
</tr>
<tr>
<td>조사</td>
<td>도와주는 낱말</td>
</tr>
<tr>
<td>동사</td>
<td>움직임을 나타내는 낱말</td>
</tr>
<tr>
<td>형용사</td>
<td>상태나 성질을 나타내는 낱말</td>
</tr>
<tr>
<td>관형사</td>
<td>체언을 꾸며 주는 낱말</td>
</tr>
<tr>
<td>부사</td>
<td>주로 용언을 꾸며주는 낱말</td>
</tr>
<tr>
<td>감탄사</td>
<td>놀람, 느낌, 부름, 대답을 나타내는 낱말</td>
</tr>
</tbody>
</table></div>
<ul>
<li>용언 : 동사와 형용사를 함께 부르는 말</li>
<li>체언 : 명사, 대명사, 수사를 묶어서 부르는 말</li>
<li>조사 : 관계언</li>
<li>감탄사 : 독립언</li>
<li>공용 품사 태그
<ul>
<li>품사 태그는 언어나 학자에 따라 다르게 정의함</li>
<li>다양한 언어에서 공통되는 품사 태그를 나타낸 것</li>
</ul>
</li>
</ul>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>태그</th>
<th>뜻</th>
<th>예</th>
</tr>
</thead>
<tbody>
<tr>
<td>ADJ</td>
<td>adjective</td>
<td>new, good, high, special, big, local</td>
</tr>
<tr>
<td>ADP</td>
<td>adposition</td>
<td>on, of, at, with, by, into, under</td>
</tr>
<tr>
<td>ADV</td>
<td>adverb</td>
<td>really, already, still, early, now</td>
</tr>
<tr>
<td>CONJ</td>
<td>conjunction</td>
<td>and, or, but, if, while, although</td>
</tr>
<tr>
<td>DET</td>
<td>determiner, article</td>
<td>the, a, some, most, every, no, which</td>
</tr>
<tr>
<td>NOUN</td>
<td>noun</td>
<td>year, home, costs, time, Africa</td>
</tr>
<tr>
<td>NUM</td>
<td>numberal</td>
<td>twenty-four, fourth, 1991, 14:24</td>
</tr>
<tr>
<td>PRT</td>
<td>particle</td>
<td>at, on, out, over, per, that, up, with</td>
</tr>
<tr>
<td>PRON</td>
<td>pronoun</td>
<td>he, their, her, its, my, I, us</td>
</tr>
<tr>
<td>VERB</td>
<td>verb</td>
<td>is, say, told, given, playing, would</td>
</tr>
<tr>
<td>.</td>
<td>punctuation marks</td>
<td>.,;!</td>
</tr>
<tr>
<td>X</td>
<td>other</td>
<td>ersatz, esprit, dunno, gr8, univeristy</td>
</tr>
</tbody>
</table></div>
<ul>
<li>
<p>펜 트리뱅크 태그 집합</p>
<ul>
<li>공용 품사 태그 집합에 비해 훨씬 세분화된 품사 분류</li>
<li><a href="https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html" target="_blank" class="external-link">https://www.ling.upenn.edu/courses/Fall_2003/ling001/penn_treebank_pos.html</a></li>
</ul>
</li>
<li>
<p>NLTK를 활용한 품사 태깅</p>
<ul>
<li>영어는 NLTK가 잘 해준다.</li>
<li>NLTK는 펜 트리뱅크 태그 집합을 사용한다. 의미를 모르면 코드 마지막 처럼 쓸수 있다.</li>
</ul>
<pre><code class="language-python">import nltk
from nltk.tokenize import word_tokenize
nltk.download('tagsets')

tokens = word_tokenize(&quot;Hello everyone. It's good to see you. Let's start our text min-ing class!&quot;)

print(nltk.pos_tag(tokens))
# [('Hello', 'NNP'), ('everyone', 'NN'), ('.', '.'), ('It', 'PRP'), (&quot;'s&quot;, 'VBZ'), ('good', 'JJ'), ('to', 'TO'), ('see', 'VB'), ('you', 'PRP'), ('.', '.'), ('Let', 'VB'), (&quot;'s&quot;, 'POS'), ('start', 'VB'), ('our', 'PRP$'), ('text', 'JJ'), ('min-ing', 'JJ'), ('class', 'NN'), ('!', '.')]

nltk.help.upenn_tagset('NNP')
&quot;&quot;&quot;
NNP: noun, proper, singular
    Motown Venneboerger Czestochwa Ranzer Conchita Trumplane Christos
    Oceanside Escobar Kreisler Sawyer Cougar Yvette Ervin ODI Darryl CTCA
    Shannon A.K.C. Meltex Liverpool ...
&quot;&quot;&quot;
</code></pre>
<ul>
<li>원하는 품사만 추출</li>
</ul>
<pre><code class="language-python">my_tag_set = ['NN', 'VB', 'JJ']
my_words = [word for word, tag in nltk.pos_tag(tokens) if tag in my_tag_set]
print(my_words)
# ['everyone', 'good', 'see', 'Let', 'start', 'text', 'mining', 'class']
</code></pre>
<ul>
<li>단어에 품사 정보를 추가해 구분
<ul>
<li>동음이의어를 처리하거나 품사를 이용해 단어를 더 정확하게 구분하는 방법으로 문장의 의미를 정확히 파악하려고 할때 많이 쓰인다.</li>
</ul>
</li>
</ul>
<pre><code class="language-python">words_with_tag = ['/'.join(item) for item in nltk.pos_tag(tokens)]
print(words_with_tag)
# ['Hello/NNP', 'everyone/NN', './.', 'It/PRP', &quot;'s/VBZ&quot;, 'good/JJ', 'to/TO', 'see/VB', 'you/PRP', './.', 'Let/VB', &quot;'s/POS&quot;, 'start/VB', 'our/PRP$', 'text/JJ', 'min-ing/JJ', 'class/NN', '!/.']

</code></pre>
</li>
<li>
<p>한글 형태소 분석과 품사 태깅</p>
<ul>
<li>NLTK로는 제대로 안되므로 KoNLPy를 사용한다.</li>
<li>KoNLPy는 5종의 형태소 분석기를 제공하며 홈페이지에서 성능 비교를 확인할 수 있다.</li>
<li>morphs(phrase) : 주어진 텍스트를 형태소 단위로 분리</li>
<li>nouns(phrase) : 주어진 텍스트를 형태소 단위로 분리해서 명사만 반환</li>
<li>pos(phrase) : 주어진 텍스트를 형태소 단위로 분리하고 각 형태소에 부착해 반환</li>
</ul>
<pre><code class="language-python">from konlpy.tag import Okt

t = Okt()

sentence = '''절망의 반대가 희망은 아니다. 어두운 밤하늘에 별이 빛나듯
희망은 절망 속에 싹트는 거지
만약에 우리가 희망함이 적다면
그 누가 세상을 비출어줄까. 정희성, 희망 공부'''

print('형태소:', t.morphs(sentence))
print()
print('명사:', t.nouns(sentence))
print()
print('품사 태깅 결과:', t.pos(sentence))

&quot;&quot;&quot;
형태소: ['절망', '의', '반대', '가', '희망', '은', '아니다', '.', '어', '두운', '밤하늘', '에', '별', '이', '빛나듯', '\\n', '희망', '은', '절망', '속', '에', '싹트는', '거지', '\\n', '만약', '에', '우리', '가', '희망', '함', '이', '적다면', '\\n', '그', '누가', '세상', '을', '비출어줄까', '.', '정희성', ',', '희망', '공부']

명사: ['절망', '반대', '희망', '어', '두운', '밤하늘', '별', '희망', '절망', '속', '거지', '만약', '우리', '희망', '함', '그', '누가', '세상', '정희성', '희망', '공부']

품사 태깅 결과: [('절망', 'Noun'), ('의', 'Josa'), ('반대', 'Noun'), ('가', 'Josa'), ('희망', 'Noun'), ('은', 'Josa'), ('아니다', 'Adjective'), ('.', 'Punctuation'), ('어', 'Noun'), ('두운', 'Noun'), ('밤하늘', 'Noun'), ('에', 'Josa'), ('별', 'Noun'), ('이', 'Josa'), ('빛나듯', 'Verb'), ('\\n', 'Foreign'), ('희망', 'Noun'), ('은', 'Josa'), ('절망', 'Noun'), ('속', 'Noun'), ('에', 'Josa'), ('싹트는', 'Verb'), ('거지', 'Noun'), ('\\n', 'Foreign'), ('만약', 'Noun'), ('에', 'Josa'), ('우리', 'Noun'), ('가', 'Josa'), ('희망', 'Noun'), ('함', 'Noun'), ('이', 'Josa'), ('적다면', 'Verb'), ('\\n', 'Foreign'), ('그', 'Noun'), ('누가', 'Noun'), ('세상', 'Noun'), ('을', 'Josa'), ('비출어줄까', 'Verb'), ('.', 'Punctuation'), ('정희성', 'Noun'), (',', 'Punctuation'), ('희망', 'Noun'), ('공부', 'Noun')]

&quot;&quot;&quot;
</code></pre>
</li>
</ul>
<h2 id="3" tabindex="-1">3. 그래프와 워드 클라우드</h2>
<ul>
<li>텍스트 분석에서 가장 단순하고 기본적인 아이디어는 하나 혹은 여러개의 문서에서 가장 많이 사용된 단어를 파악하는 것이므로 한때 유행이었고 현재도 보여주기에 좋은 방법 중 하나이다.</li>
</ul>
<h3 id="3-1" tabindex="-1">3-1. 단어 빈도 그래프 - 많이 쓰인 단어는?</h3>
<ul>
<li>단어 빈도를 구하려면 먼저 문서들로부터 각 단어들을 분리</li>
<li>앞장에서 배운 토큰화, 어간 추출, 불용어 등을 사용해보자.</li>
<li>아래 코드는 저작권이 만료된 구텐베르크 프로젝트에 있는 책들이며 텍스트 마이닝 연습하기에 좋다.</li>
</ul>
<pre><code class="language-python">import nltk
nltk.download('gutenberg')

from nltk.corpus import gutenberg
file_names = gutenberg.fileids() <a class="tag" onclick="toggleTagSearch(this)" data-content="#파일">#파일</a> 제목을 읽어온다.
print(file_names)
&quot;&quot;&quot;
['austen-emma.txt', 'austen-persuasion.txt', 'austen-sense.txt', 'bible-kjv.txt', 'blake-poems.txt', 'bryant-stories.txt', 'burgess-busterbrown.txt', 'carroll-alice.txt', 'chesterton-ball.txt', 'chesterton-brown.txt', 'chesterton-thursday.txt', 'edgeworth-parents.txt', 'melville-moby_dick.txt', 'milton-paradise.txt', 'shakespeare-caesar.txt', 'shakespeare-hamlet.txt', 'shakespeare-macbeth.txt', 'whitman-leaves.txt']
&quot;&quot;&quot;

doc_alice = gutenberg.open('carroll-alice.txt').read()
print('#Num of characters used:', len(doc_alice))
# 사용된 문자의 수 print('#Text sample:')
print(doc_alice[:500])
<a class="tag" onclick="toggleTagSearch(this)" data-content="#앞의">#앞의</a> 500자만 출력

<a class="tag" onclick="toggleTagSearch(this)" data-content="#Num">#Num</a> of characters used: 144395
&quot;&quot;&quot;
[Alice's Adventures in Wonderland by Lewis Carroll 1865]

CHAPTER I. Down the Rabbit-Hole

Alice was beginning to get very tired of sitting by her sister on the
bank, and of having nothing to do: once or twice she had peeped into the
book her sister was reading, but it had no pictures or conversations in
it, 'and what is the use of a book,' thought Alice 'without pictures or
conversation?'

So she was considering in her own mind (as well as she could, for the
hot day made her feel very sleepy an
&quot;&quot;&quot;
</code></pre>
<ul>
<li>내용을 확인하고 NLTK를 이용해 토큰화 한다.</li>
<li>토큰 수와 앞 20개의 토큰을 확인하고 위에서 본 앞부분 내용과 비교해본다.</li>
</ul>
<pre><code class="language-python">from nltk.tokenize import word_tokenize
tokens_alice = word_tokenize(doc_alice) <a class="tag" onclick="toggleTagSearch(this)" data-content="#토큰화">#토큰화</a> 실행
print('#Num of tokens used:', len(tokens_alice))
print('#Token sample:')
print(tokens_alice[:20])
&quot;&quot;&quot;
# Num of tokens used: 33494
# Token sample:
['[', 'Alice', &quot;'s&quot;, 'Adventures', 'in', 'Wonderland', 'by', 'Lewis', 'Carroll', '1865', ']', 'CHAPTER', 'I', '.', 'Down', 'the', 'Rabbit-Hole', 'Alice', 'was', 'beginning']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>포터 스테머로 스테밍하고, 토큰 수와 앞 20개의 토큰을 확인한다.</li>
</ul>
<pre><code class="language-python">from nltk.stem import PorterStemmer
stemmer = PorterStemmer()
# 모든 토큰에 대해 스테밍 실행
stem_tokens_alice = [stemmer.stem(token) for token in tokens_alice]
print('#Num of tokens after stemming:', len(stem_tokens_alice))
print('#Token sample:')
print(stem_tokens_alice[:20])
&quot;&quot;&quot;
# Num of tokens after stemming: 33494
# Token sample:
['[', 'alic', &quot;'s&quot;, 'adventur', 'in', 'wonderland', 'by', 'lewi', 'carrol', '1865', ']', 'chapter', 'i', '.', 'down', 'the', 'rabbit-hol', 'alic', 'wa', 'begin']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>WordNetLemmatizer를 이용해 표제어를 추출하고, 토큰 수와 앞 20개의 토큰을 스테밍 결과와 비교한다.</li>
</ul>
<pre><code class="language-python">from nltk.stem import WordNetLemmatizer
lemmatizer = WordNetLemmatizer()
# 모든 토큰에 대해 스테밍 실행
lem_tokens_alice = [lemmatizer.lemmatize(token) for token in tokens_alice]
print('#Num of tokens after lemmatization:', len(lem_tokens_alice))
print('#Token sample:')
print(lem_tokens_alice[:20])
&quot;&quot;&quot;
# Num of tokens after lemmatization: 33494
# Token sample:
['[', 'Alice', &quot;'s&quot;, 'Adventures', 'in', 'Wonderland', 'by', 'Lewis', 'Carroll', '1865', ']', 'CHAPTER', 'I', '.', 'Down', 'the', 'Rabbit-Hole', 'Alice', 'wa', 'beginning']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>앞 장에서 배운 3개 미만 글자를 다 지우는 정규표현식을 적용하고 확인해보자.</li>
</ul>
<pre><code class="language-python">from nltk.tokenize import RegexpTokenizer
tokenizer = RegexpTokenizer(&quot;[\\\\w']{3,}&quot;)
reg_tokens_alice = tokenizer.tokenize(doc_alice.lower())
print('#Num of tokens with RegexpTokenizer:', len(reg_tokens_alice))
print('#Token sample:')
print(reg_tokens_alice[:20])
&quot;&quot;&quot;
# Num of tokens with RegexpTokenizer: 21616
# Token sample:
[&quot;alice's&quot;, 'adventures', 'wonderland', 'lewis', 'carroll', '1865', 'chapter', 'down', 'the', 'rabbit', 'hole', 'alice', 'was', 'beginning', 'get', 'very', 'tired', 'sitting', 'her', 'sister']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>여기서는 그래프를 보여주는것이 목적이기에 부호를 없애고 그 결과에서 불용어를 제거하자</li>
</ul>
<pre><code class="language-python">from nltk.corpus import stopwords # 일반적으로 분석대상이 아닌 단어들
english_stops = set(stopwords.words('english')) # 반복되지 않게 set으로 변환
# stopwords를 제외한 단어들만으로 리스트를 생성
result_alice = [word for word in reg_tokens_alice if word not in english_stops]
print('#Num of tokens after stopword elimination:', len(result_alice))
print('#Token sample:')
print(result_alice[:20])
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Num">#Num</a> of tokens after stopword elimination: 12999
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Token">#Token</a> sample:
[&quot;alice's&quot;, 'adventures', 'wonderland', 'lewis', 'carroll', '1865', 'chapter', 'rabbit', 'hole', 'alice', 'beginning', 'get', 'tired', 'sitting', 'sister', 'bank', 'nothing', 'twice', 'peeped', 'book']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>텍스트 전처리가 완료되었으니 각 단어별로 빈도를 계산한다.</li>
<li>딕셔너리로 단어별 개수를 세고, 비도가 큰 순으로 정렬한다.</li>
</ul>
<pre><code class="language-python">alice_word_count = dict()
for word in result_alice:
    alice_word_count[word] = alice_word_count.get(word, 0) + 1
print('#Num of used words:', len(alice_word_count))
sorted_word_count = sorted(alice_word_count, key=alice_word_count.get, reverse=True)
print(&quot;#Top 20 high frequency words:&quot;)
for key in sorted_word_count[:20]: <a class="tag" onclick="toggleTagSearch(this)" data-content="#빈도수">#빈도수</a> 상위 20개의 단어를 출력
    print(f'{repr(key)}: {alice_word_count[key]}', end=', ')
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Num">#Num</a> of used words: 2687
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Top">#Top</a> 20 high frequency words:
'said': 462, 'alice': 385, 'little': 128, 'one': 98, 'know': 88, 'like': 85, 'went': 83, 'would': 78, 'could': 77, 'thought': 74, 'time': 71, 'queen': 68, 'see': 67, 'king': 61, 'began': 58, 'turtle': 57, &quot;'and&quot;: 56, 'way': 56, 'mock': 56, 'quite': 55, 
&quot;&quot;&quot;
</code></pre>
<ul>
<li>위 결과를 보면 would, could, and와 같은 별 필요하지 않는 단어들이 올라와 있다.</li>
<li>그래프에서 필요한건 보통 명사, 동사, 형용사이니 이것들만 추출해보자.</li>
</ul>
<pre><code class="language-python">my_tag_set = ['NN', 'VB', 'VBD', 'JJ']
my_words = [word for word, tag in nltk.pos_tag(result_alice) if tag in my_tag_set]
alice_word_count = dict()
for word in my_words:
    alice_word_count[word] = alice_word_count.get(word, 0) + 1
print('#Num of used words:', len(alice_word_count))
sorted_word_count = sorted(alice_word_count, key=alice_word_count.get, reverse=True)
print(&quot;#Top 20 high frequency words:&quot;)
for key in sorted_word_count[:20]: # 빈도수 상위 20개의 단어를 출력
    print(f'{repr(key)}: {alice_word_count[key]}', end=', ')
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Num">#Num</a> of used words: 1726
<a class="tag" onclick="toggleTagSearch(this)" data-content="#Top">#Top</a> 20 high frequency words:
'said': 462, 'alice': 293, 'little': 124, 'went': 83, 'time': 71, 'queen': 66, 'began': 58, 'way': 56, 'turtle': 56, 'mock': 55, 'thought': 54, 'thing': 49, 'voice': 48, 'head': 46, 'gryphon': 45, 'got': 44, 'rabbit': 42, 'looked': 42, 'see': 42, 'came': 40, 
&quot;&quot;&quot;
</code></pre>
<ul>
<li>결과가 만족스럽지 않지만 그래프로 그려보자</li>
</ul>
<pre><code class="language-python">import matplotlib.pyplot as plt
%matplotlib inline
# 정렬된 단어 리스트에 대해 빈도수를 가져와서 리스트 생성 
w = [alice_word_count[key] for key in sorted_word_count]
plt.plot(w)
plt.show()
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.28.29.png" alt="스크린샷 2024-03-24 오후 3.28.29.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/dbAoMkD4vP-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/dbAoMkD4vP-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/dbAoMkD4vP-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/dbAoMkD4vP-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.28.29.png"
      alt="스크린샷 2024-03-24 오후 3.28.29.png"
      width=""
      ></picture></p>
<ul>
<li>위 그래프로는 뭔가 알수 있는게 없다.
<ul>
<li>단어가 무엇인지 모르며, 출력한다해도 단어가 많아서 알기 어렵다.</li>
<li>빈도수가 높은 상위 단어들만 출력해서 그려야 한다.</li>
<li>그래프를 좀 실용적으로 바꾸어 보자</li>
</ul>
</li>
</ul>
<pre><code class="language-python">n = sorted_word_count[:20][::-1] # 빈도수 상위 20개의 단어를 추출해 역순으로 정렬 
w = [alice_word_count[key] for key in n] # 20개 단어에 대한 빈도
plt.barh(range(len(n)),w,tick_label=n) # 수평 막대그래프
plt.show()
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.30.42.png" alt="스크린샷 2024-03-24 오후 3.30.42.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/KkBxhMVO0S-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/KkBxhMVO0S-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/KkBxhMVO0S-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/KkBxhMVO0S-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.30.42.png"
      alt="스크린샷 2024-03-24 오후 3.30.42.png"
      width=""
      ></picture></p>
<h3 id="3-2" tabindex="-1">3-2. 워드 클라우드로 내용을 한눈에 보기</h3>
<ul>
<li>텍스트 분석 결과를 보여주는 활용도가 높은 시각화 도구</li>
</ul>
<pre><code class="language-python">from wordcloud import WordCloud
# 워드 클라우드 이미지 생성
wordcloud = WordCloud().generate(doc_alice)
plt.axis(&quot;off&quot;)
plt.imshow(wordcloud, interpolation='bilinear') # 이미지를 출력
plt.show()
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.32.27.png" alt="스크린샷 2024-03-24 오후 3.32.27.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/cZrXRZrMok-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/cZrXRZrMok-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/cZrXRZrMok-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/cZrXRZrMok-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.32.27.png"
      alt="스크린샷 2024-03-24 오후 3.32.27.png"
      width=""
      ></picture></p>
<ul>
<li>나쁘지 않으나 generate 메서드에 입력으로 토큰화를 알아서 해준다.</li>
<li>generate_from_frequencies를 사용하면 계산된 빈도를 이용해서 그려준다.</li>
</ul>
<pre><code class="language-python">wordcloud = WordCloud(max_font_size=60).generate_from_frequencies(alice_word_count)
plt.figure()
plt.axis(&quot;off&quot;)
plt.imshow(wordcloud, interpolation=&quot;bilinear&quot;)
plt.show()
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.34.02.png" alt="스크린샷 2024-03-24 오후 3.34.02.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/Y0SjXzT1BN-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/Y0SjXzT1BN-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/Y0SjXzT1BN-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/Y0SjXzT1BN-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.34.02.png"
      alt="스크린샷 2024-03-24 오후 3.34.02.png"
      width=""
      ></picture></p>
<ul>
<li>위에 나왔던 것보다 괜찮게 나왔다. 좀 더 꾸며주자.</li>
</ul>
<pre><code class="language-python">import numpy as np
from PIL import Image

# 배경이미지를 불러와서 넘파이 array로 변환
alice_mask = np.array(Image.open(&quot;alice_mask.png&quot;))
wc = WordCloud(background_color=&quot;white&quot;,  # 배경색 지정
               max_words=30,  # 출력할 최대 단어 수
               mask=alice_mask,  # 배경으로 사용할 이미지 
               contour_width=3,  # 테두리 굵기
               contour_color='steelblue')  # 테두리 색
wc.generate_from_frequencies(alice_word_count)  # 워드 클라우드 생성 
wc.to_file(&quot;alice.png&quot;)  # 결과를 이미지 파일로 저장
# 화면에 결과를 출력
plt.figure()
plt.axis(&quot;off&quot;)
plt.imshow(wc, interpolation='bilinear')
plt.show()
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.36.12.png" alt="스크린샷 2024-03-24 오후 3.36.12.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/_9U_6qZIKm-294.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/_9U_6qZIKm-294.jpeg"
      >
      <img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.36.12.png"
      alt="스크린샷 2024-03-24 오후 3.36.12.png"
      width=""
      ></picture></p>
<h3 id="3-3" tabindex="-1">3-3. 한국어 문서에 대한 그래프와 워드 클라우드</h3>
<ul>
<li>KoNLPy에서 헌법 텍스트를 불러오고 타입과 문자 수 앞 일부분 등 확인하자.</li>
</ul>
<pre><code class="language-python">from konlpy.corpus import kolaw
const_doc = kolaw.open('constitution.txt').read()
print(type(const_doc)) # 가져온 데이터의 type을 확인 print(len(const_doc))
print(const_doc[:600])
&quot;&quot;&quot;
&lt;class 'str'&gt;
대한민국헌법

유구한 역사와 전통에 빛나는 우리 대한국민은 3·1운동으로 건립된 대한민국임시정부의 법통과 불의에 항거한 4·19민주이념을 계승하고, 조국의 민주개혁과 평화적 통일의 사명에 입각하여 정의·인도와 동포애로써 민족의 단결을 공고히 하고, 모든 사회적 폐습과 불의를 타파하며, 자율과 조화를 바탕으로 자유민주적 기본질서를 더욱 확고히 하여 정치·경제·사회·문화의 모든 영역에 있어서 각인의 기회를 균등히 하고, 능력을 최고도로 발휘하게 하며, 자유와 권리에 따르는 책임과 의무를 완수하게 하여, 안으로는 국민생활의 균등한 향상을 기하고 밖으로는 항구적인 세계평화와 인류공영에 이바지함으로써 우리들과 우리들의 자손의 안전과 자유와 행복을 영원히 확보할 것을 다짐하면서 1948년 7월 12일에 제정되고 8차에 걸쳐 개정된 헌법을 이제 국회의 의결을 거쳐 국민투표에 의하여 개정한다.

       제1장 총강
  제1조 ① 대한민국은 민주공화국이다.
②대한민국의 주권은 국민에게 있고, 모든 권력은 국민으로부터 나온다.
  제2조 ① 대한민국의 국민이 되는 요건은 법률로 정한다.
②국가는 법률이 정하는 바에 의하여 재외국민을 보호할 의무를 진다.
  제3조 대한민
&quot;&quot;&quot;
</code></pre>
<ul>
<li>앞 장에서 배운대로 형태소 분석 실시하자.</li>
</ul>
<pre><code class="language-python">from konlpy.tag import Okt
t = Okt()
tokens_const = t.morphs(const_doc) # 형태소 단위로 tokenize
print('#토큰의 수:', len(tokens_const))
print('#앞 100개의 토큰')
print(tokens_const[:100])
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#토큰의">#토큰의</a> 수: 8796
<a class="tag" onclick="toggleTagSearch(this)" data-content="#앞">#앞</a> 100개의 토큰
['대한민국', '헌법', '\\n\\n', '유구', '한', '역사', '와', '전통', '에', '빛나는', '우리', '대', '한', '국민', '은', '3', '·', '1', '운동', '으로', '건립', '된', '대한민국', '임시정부', '의', '법', '통과', '불의', '에', '항거', '한', '4', '·', '19', '민주', '이념', '을', '계승', '하고', ',', '조국', '의', '민주', '개혁', '과', '평화', '적', '통일', '의', '사명', '에', '입', '각하', '여', '정의', '·', '인도', '와', '동포', '애', '로써', '민족', '의', '단결', '을', '공고', '히', '하고', ',', '모든', '사회', '적', '폐습', '과', '불의', '를', '타파', '하며', ',', '자율', '과', '조화', '를', '바탕', '으로', '자유민주', '적', '기', '본', '질서', '를', '더욱', '확고히', '하여', '정치', '·', '경제', '·', '사회', '·']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>워드 클라우드에서는 보통 명사만 사용하니 명사만 빼보자 (동사도 필요한 경우도 있다.)</li>
</ul>
<pre><code class="language-python">tokens_const = t.nouns(const_doc) # 형태소 단위로 tokenize 후 명사만 추출
print('#토큰의 수:', len(tokens_const))
print('#앞 100개의 토큰')
print(tokens_const[:100])
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#토큰의">#토큰의</a> 수: 3882
<a class="tag" onclick="toggleTagSearch(this)" data-content="#앞">#앞</a> 100개의 토큰
['대한민국', '헌법', '유구', '역사', '전통', '우리', '국민', '운동', '건립', '대한민국', '임시정부', '법', '통과', '불의', '항거', '민주', '이념', '계승', '조국', '민주', '개혁', '평화', '통일', '사명', '입', '각하', '정의', '인도', '동포', '애', '로써', '민족', '단결', '공고', '모든', '사회', '폐습', '불의', '타파', '자율', '조화', '바탕', '자유민주', '질서', '더욱', '정치', '경제', '사회', '문화', '모든', '영역', '각인', '기회', '능력', '최고', '도로', '발휘', '자유', '권리', '책임', '의무', '완수', '안', '국민', '생활', '향상', '기하', '밖', '항구', '세계', '평화', '인류', '공영', '이바지', '함', '우리', '우리', '자손', '안전', '자유', '행복', '확보', '것', '다짐', '제정', '차', '개정', '헌법', '이제', '국회', '의결', '국민투표', '개정', '제', '장', '강', '제', '대한민국', '민주공화국', '대한민국']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>1자로 된 단어는 지워버리자.</li>
</ul>
<pre><code class="language-python">tokens_const = [token for token in tokens_const if len(token) &gt; 1]
print('#토큰의 수:', len(tokens_const))
print('#앞 100개의 토큰')
print(tokens_const[:100])
&quot;&quot;&quot;
<a class="tag" onclick="toggleTagSearch(this)" data-content="#토큰의">#토큰의</a> 수: 3013
<a class="tag" onclick="toggleTagSearch(this)" data-content="#앞">#앞</a> 100개의 토큰
['대한민국', '헌법', '유구', '역사', '전통', '우리', '국민', '운동', '건립', '대한민국', '임시정부', '통과', '불의', '항거', '민주', '이념', '계승', '조국', '민주', '개혁', '평화', '통일', '사명', '각하', '정의', '인도', '동포', '로써', '민족', '단결', '공고', '모든', '사회', '폐습', '불의', '타파', '자율', '조화', '바탕', '자유민주', '질서', '더욱', '정치', '경제', '사회', '문화', '모든', '영역', '각인', '기회', '능력', '최고', '도로', '발휘', '자유', '권리', '책임', '의무', '완수', '국민', '생활', '향상', '기하', '항구', '세계', '평화', '인류', '공영', '이바지', '우리', '우리', '자손', '안전', '자유', '행복', '확보', '다짐', '제정', '개정', '헌법', '이제', '국회', '의결', '국민투표', '개정', '대한민국', '민주공화국', '대한민국', '주권', '국민', '모든', '권력', '국민', '대한민국', '국민', '요건', '법률', '국가', '법률', '재외국민']
&quot;&quot;&quot;
</code></pre>
<ul>
<li>이제 먼저 수평 그래프를 그려보자</li>
</ul>
<pre><code class="language-python">from matplotlib import font_manager, rc

# font_name = font_manager.FontProperties(fname=&quot;c:/Windows/Fonts/malgun.ttf&quot;).get_name()  # 맥인 경우에는 아래와 같이 font_name을 지정
font_name = 'AppleGothic'
rc('font', family=font_name)
const_cnt = {}
for word in tokens_const:
    const_cnt[word] = const_cnt.get(word, 0) + 1

def word_graph(cnt, max_words=10):
    sorted_w = sorted(cnt.items(), key=lambda kv: kv[1])
    print(sorted_w[-max_words:])
    n, w = zip(*sorted_w[-max_words:])
    plt.barh(range(len(n)), w, tick_label=n)
    plt.savefig('bar.png')  # 필요한 경우, 그래프를 이미지 파일로 저장한다.
    plt.show()
    
word_graph(const_cnt, max_words=20)
&quot;&quot;&quot;
[('조직', 18), ('국회의원', 18), ('임기', 18), ('직무', 19), ('국무총리', 19), ('자유', 20), ('정부', 20), ('선거', 20), ('임명', 20), ('권리', 21), ('의원', 21), ('사항', 23), ('기타', 26), ('모든', 37), ('헌법', 53), ('국민', 61), ('국회', 68), ('국가', 73), ('대통령', 83), ('법률', 127)]
&quot;&quot;&quot;
</code></pre>
<p><picture src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.43.53.png" alt="스크린샷 2024-03-24 오후 3.43.53.png"><source       media="(max-width:480px)"
      srcset="/img/optimized/f2QyCbjglF-500.webp"
      type="image/webp"
      >
      <source       media="(max-width:480px)"
      srcset="/img/optimized/f2QyCbjglF-500.jpeg"
      >
      <source         media="(max-width:1920px)"
        srcset="/img/optimized/f2QyCbjglF-700.webp"
        type="image/webp"
        ><source         media="(max-width:1920px)"
        srcset="/img/optimized/f2QyCbjglF-700.jpeg"
        ><img       class=""
      src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.43.53.png"
      alt="스크린샷 2024-03-24 오후 3.43.53.png"
      width=""
      ></picture></p>
<ul>
<li>워드 클라우드로 만들어보자</li>
</ul>
<pre><code class="language-python">font_path = '/System/Library/Fonts/AppleSDGothicNeo.ttc'
wordcloud = WordCloud(font_path=font_path).generate(const_doc)
plt.axis(&quot;off&quot;)
plt.imshow(wordcloud, interpolation='bilinear')
plt.show()
</code></pre>
<p><img src="/img/user/assets/images/%ED%8C%8C%EC%9D%B4%EC%8D%AC%20%ED%85%8D%EC%8A%A4%ED%8A%B8%20%EB%A7%88%EC%9D%B4%EB%8B%9D%20%EC%99%84%EB%B2%BD%20%EA%B0%80%EC%9D%B4%EB%93%9C/1%EC%9E%A5/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202024-03-24%20%EC%98%A4%ED%9B%84%203.51.53.png" alt="스크린샷 2024-03-24 오후 3.51.53.png"></p>
<ul>
<li>관심 없는 단어가 보이기에 좀 더 개선해 보자.</li>
</ul>

      
      
      <div>
        <script src="https://utteranc.es/client.js"
                repo="jaeminkim87/blog_comment"
                issue-term="pathname"
                theme="github-dark"
                crossorigin="anonymous"
                async></script>
      </div>
    </main>

    
      <aside>
      <div class="sidebar">
            <div class="sidebar-container">
                  
                  

                  
                        
                        
                              <div class="toc">
                                    <div class="toc-title-container">
                                          <div class="toc-title">
                                                On this page
                                          </div>
                                    </div>
                                    <div class="toc-container">
                                          <nav class="toc">
                <ol>
                    
                    <li><a href="#1">1장 텍스트 마이닝 기초</a>
            
                <ol>
                    
                    <li><a href="#1-1">1. 텍스트 마이닝 기초</a>
            
                <ol>
                    
                    <li><a href="#1-1-1">1-1. 텍스트 마이닝의 정의</a>
            		</li>

                    <li><a href="#1-2">1-2. 텍스트 마이닝 트렌드 변화</a>
            		</li>

                    <li><a href="#1-3">1-3. 텍스트 마이닝에 필요한 지식과 도구</a>
            		</li>

                    <li><a href="#1-4">1-4. 텍스트 마이닝의 주요 적용 분야</a>
            		</li>

                    <li><a href="#1-5">1-5. 이 책의 실습 환경과 사용 소프트웨어</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#2">2. 텍스트 전처리</a>
            
                <ol>
                    
                    <li><a href="#2-1">2-1. 텍스트 전처리 방식</a>
            		</li>

                    <li><a href="#2-2">2-2. 토큰화</a>
            		</li>

                    <li><a href="#2-3">2-3. 정규화</a>
            		</li>

                    <li><a href="#2-4">2-4. 품사 태깅</a>
            		</li>
                </ol>
            		</li>

                    <li><a href="#3">3. 그래프와 워드 클라우드</a>
            
                <ol>
                    
                    <li><a href="#3-1">3-1. 단어 빈도 그래프 - 많이 쓰인 단어는?</a>
            		</li>

                    <li><a href="#3-2">3-2. 워드 클라우드로 내용을 한눈에 보기</a>
            		</li>

                    <li><a href="#3-3">3-3. 한국어 문서에 대한 그래프와 워드 클라우드</a>
            		</li>
                </ol>
            		</li>
                </ol>
            		</li>
                </ol>
            </nav>
                                    </div>
                              </div>
                        

                  

                        
                              
                              <div class="backlinks">
                                    <div class="backlink-title" style="margin: 4px 0 !important;">Pages mentioning this page</div>
                                          <div class="backlink-list"><div class="backlink-card">
                                                            <span class="no-backlinks-message">No other pages mentions this page</span>
                                                      </div></div>
                              </div>
                        
                  
                  
            </div>
      </div>
</aside>
    

    
      
<style>
#tooltip-wrapper {
  background: var(--background-primary);
  padding: 1em;
  border-radius: 4px;
  overflow: hidden;
  position: fixed;
  width: 80%;
  max-width: 400px;
  height: auto;
  max-height: 300px;
  font-size: 0.8em;
  box-shadow: 0 5px 10px rgba(0,0,0,0.1);
  opacity: 0;
  transition: opacity 100ms;
  unicode-bidi: plaintext;
  overflow-y: scroll;
  z-index: 10;
}

#tooltip-wrapper:after {
  content: "";
  position: absolute;
  z-index: 1;
  bottom: 0;
  left: 0;
  pointer-events: none;
  width: 100%;
  unicode-bidi: plaintext;
  height: 75px;
}
</style>
<div style="opacity: 0; display: none;" id='tooltip-wrapper'>
  <div id='tooltip-content'>
  </div>
</div>

<iframe style="display: none; height: 0; width: 0;" id='link-preview-iframe' src="">
</iframe>

<script>
  var opacityTimeout;
  var contentTimeout;
  var transitionDurationMs = 100;

  var iframe = document.getElementById('link-preview-iframe')
  var tooltipWrapper = document.getElementById('tooltip-wrapper')
  var tooltipContent = document.getElementById('tooltip-content')

  var linkHistories = {};

  function hideTooltip() {
    opacityTimeout = setTimeout(function () {
      tooltipWrapper.style.opacity = 0;
      contentTimeout = setTimeout(function () {
        tooltipContent.innerHTML = '';
        tooltipWrapper.style.display = 'none';
      }, transitionDurationMs + 1);
    }, transitionDurationMs)
  }

  function showTooltip(event) {
    var elem = event.target;
    var elem_props = elem.getClientRects()[elem.getClientRects().length - 1];
    var top = window.pageYOffset || document.documentElement.scrollTop;
    var url = event.target.getAttribute("href");
    if (url.indexOf("http") === -1 || url.indexOf(window.location.host) !== -1) {
      let contentURL = url.split('#')[0]
      if (!linkHistories[contentURL]) {
        iframe.src = contentURL
        iframe.onload = function () {
          tooltipContentHtml = ''
          tooltipContentHtml += '<div style="font-weight: bold; unicode-bidi: plaintext;">' + iframe.contentWindow.document.querySelector('h1').innerHTML + '</div>'
          tooltipContentHtml += iframe.contentWindow.document.querySelector('.content').innerHTML
          tooltipContent.innerHTML = tooltipContentHtml
          linkHistories[contentURL] = tooltipContentHtml
          tooltipWrapper.style.display = 'block';
          tooltipWrapper.scrollTop = 0;
          setTimeout(function () {
            tooltipWrapper.style.opacity = 1;
            if (url.indexOf("#") != -1) {
              let id = url.split('#')[1];
              const focus = tooltipWrapper.querySelector(`[id='${id}']`);
              focus.classList.add('referred');
              console.log(focus);
              focus.scrollIntoView({behavior: 'smooth'}, true)
            } else {
              tooltipWrapper.scroll(0, 0);
            }
          }, 1)
        }
      } else {
        tooltipContent.innerHTML = linkHistories[contentURL]
        tooltipWrapper.style.display = 'block';
        setTimeout(function () {
          tooltipWrapper.style.opacity = 1;
          if (url.indexOf("#") != -1) {
              let id = url.split('#')[1];
              const focus = tooltipWrapper.querySelector(`[id='${id}']`);
              focus.classList.add('referred');
              focus.scrollIntoView({behavior: 'smooth'}, true)
          } else {
              tooltipWrapper.scroll(0, 0);
          }
        }, 1)
      }

      function getInnerWidth(elem) {
        var style = window.getComputedStyle(elem);
        return elem.offsetWidth - parseFloat(style.paddingLeft) - parseFloat(style.paddingRight) - parseFloat(style.borderLeft) - parseFloat(style.borderRight) - parseFloat(style.marginLeft) - parseFloat(style.marginRight);
      }

      tooltipWrapper.style.left = elem_props.left - (tooltipWrapper.offsetWidth / 2) + (elem_props.width / 2) + "px";

      if ((window.innerHeight - elem_props.top) < (tooltipWrapper.offsetHeight)) {
        tooltipWrapper.style.top = elem_props.top + top - tooltipWrapper.offsetHeight - 10 + "px";
      } else if ((window.innerHeight - elem_props.top) > (tooltipWrapper.offsetHeight)) {
        tooltipWrapper.style.top = elem_props.top + top + 35 + "px";
      }

      if ((elem_props.left + (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
        tooltipWrapper.style.left = "10px";
      } else if ((document.body.clientWidth - elem_props.left - (elem_props.width / 2)) < (tooltipWrapper.offsetWidth / 2)) {
        tooltipWrapper.style.left = document.body.clientWidth - tooltipWrapper.offsetWidth - 20 + "px";
      }
    }
  }

  function setupListeners(linkElement) {
    linkElement.addEventListener('mouseleave', function (_event) {
      hideTooltip();
    });

    tooltipWrapper.addEventListener('mouseleave', function (_event) {
      hideTooltip();
    });

    linkElement.addEventListener('mouseenter', function (event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
      showTooltip(event);
    });

    tooltipWrapper.addEventListener('mouseenter', function (event) {
      clearTimeout(opacityTimeout);
      clearTimeout(contentTimeout);
    });
  }

  window.addEventListener("load", function(event) 
  {
    document.querySelectorAll('.internal-link').forEach(setupListeners);
    document.querySelectorAll('.backlink-card a').forEach(setupListeners);
  });
</script>

    
        <script>
      if (window.location.hash) {
        document.getElementById(window.location.hash.slice(1)).classList.add('referred');
      }
      window.addEventListener('hashchange', (evt) => {
        const oldParts = evt.oldURL.split("#");
        if (oldParts[1]) {
          document.getElementById(oldParts[1]).classList.remove('referred');
        }
        const newParts = evt.newURL.split("#");
        if (newParts[1]) {
          document.getElementById(newParts[1]).classList.add('referred');
        }
      }, false);
      const url_parts = window.location.href.split("#")
      const url = url_parts[0];
      const referrence = url_parts[1];
      document.querySelectorAll(".cm-s-obsidian > *[id]").forEach(function (el) {
        el.ondblclick = function(evt) {
          const ref_url = url + '#' + evt.target.id
          navigator.clipboard.writeText(ref_url);
      }
      });

      
    </script>
    <script src=" https://fastly.jsdelivr.net/npm/luxon@3.2.1/build/global/luxon.min.js "></script>
<script defer>
    TIMESTAMP_FORMAT = "yyyy-MMM-dd, h:mm a";
    document.querySelectorAll('.human-date').forEach(function (el) {
        el.innerHTML = luxon.DateTime.fromISO(el.getAttribute('data-date') || el.innerText).toFormat(TIMESTAMP_FORMAT);
      });
</script>
    
    
    <script>
lucide.createIcons({
            attrs: {
                class: ["svg-icon"]
            }
        });
</script>
  </body>
</html>
